{"ast":null,"code":"import Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { bloodSugarGraph } from \"../style/style\";\nimport Svg, { Path } from 'react-native-svg';\nimport { parseISO } from 'date-fns';\nimport * as d3 from 'd3';\nimport { Data } from \"./Data.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default (function () {\n  var sugarData = [95, 99, 112];\n  var yHideRatio = 0.8;\n  var defaultMax = 250;\n  var vw = Dimensions.get(\"window\").width;\n  var width = vw * .65;\n  var height = width;\n  var margin = {\n    top: vw * .1,\n    bottom: vw * .1,\n    left: vw * .06,\n    right: vw * .1\n  };\n\n  var makeLine = function makeLine(givenData) {\n    var xScale = d3.scaleTime().domain(d3.extent(givenData.map(function (i) {\n      return new Date(i.date).toISOString();\n    }))).range([margin.left, width - margin.right]);\n    var yScale = d3.scaleLinear().domain(d3.extent(givenData.map(function (i) {\n      return i.value;\n    }))).range([height - margin.bottom, margin.top]);\n    var scaledData = [];\n    givenData.forEach(function (i) {\n      scaledData.push([xScale(i.date), yScale(i.value)]);\n    });\n    console.log(scaledData);\n    var line = d3.line();\n    var fakeData = [[1, 250], [2, 300.35], [3, 150.84], [4, 500.92], [5, 200.8], [6, 150.47], [7, 100.47]];\n    var graph = line(fakeData);\n    var html = [];\n    yScale.ticks().reverse().forEach(function (i) {\n      html.push(_jsx(Text, {\n        style: bloodSugarGraph.yLabel,\n        children: i\n      }, i));\n    });\n    return [graph, html];\n  };\n\n  return _jsxs(View, {\n    style: bloodSugarGraph.container,\n    children: [_jsxs(View, {\n      style: bloodSugarGraph.content,\n      children: [_jsx(View, {\n        style: bloodSugarGraph.unitContainer,\n        children: _jsx(Text, {\n          style: [bloodSugarGraph.unit, {\n            transform: [{\n              rotate: '270deg'\n            }]\n          }],\n          children: \"ppm\"\n        })\n      }), _jsx(View, {\n        style: bloodSugarGraph.labelContainer,\n        children: makeLine(Data)[1]\n      }), _jsx(Svg, {\n        width: width,\n        height: height,\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: _jsx(Path, {\n          fill: \"none\",\n          stroke: \"#ff9933\",\n          strokeWidth: vw * .015,\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          d: makeLine(Data)[0]\n        })\n      })]\n    }), _jsx(View, {\n      style: bloodSugarGraph.xLabelContainer,\n      children: _jsx(Text, {\n        style: bloodSugarGraph.xLabel,\n        children: \"Acetone Levels\"\n      })\n    })]\n  });\n});","map":{"version":3,"names":["bloodSugarGraph","Svg","Path","parseISO","d3","Data","sugarData","yHideRatio","defaultMax","vw","Dimensions","get","width","height","margin","top","bottom","left","right","makeLine","givenData","xScale","scaleTime","domain","extent","map","i","Date","date","toISOString","range","yScale","scaleLinear","value","scaledData","forEach","push","console","log","line","fakeData","graph","html","ticks","reverse","yLabel","container","content","unitContainer","unit","transform","rotate","labelContainer","xLabelContainer","xLabel"],"sources":["C:/Users/thund/OneDrive/Documents/HTML/breathanaylzer/components/BloodSugarGraph.js"],"sourcesContent":["import { Dimensions, View, Text } from 'react-native';\r\nimport { bloodSugarGraph } from '../style/style';\r\nimport Svg, { Path } from 'react-native-svg';\r\nimport { parseISO } from 'date-fns'\r\nimport * as d3 from 'd3';\r\nimport { Data } from './Data.js';\r\n\r\nexport default () => {\r\n  const sugarData = [95, 99, 112];\r\n  let yHideRatio = 0.8;\r\n  let defaultMax = 250;\r\n\r\n  const vw = Dimensions.get(\"window\").width;\r\n\r\n  const width = vw * .65;\r\n  const height = width;\r\n  const margin = {\r\n    top: vw * .1,\r\n    bottom: vw * .1,\r\n    left: vw * .06,\r\n    right: vw * .1,\r\n  }\r\n\r\n  const makeLine = (givenData) => {\r\n\r\n    \r\n    const xScale = d3.scaleTime()\r\n      .domain(d3.extent(givenData.map((i) => new Date(i.date).toISOString())))\r\n      .range([margin.left, width - margin.right]);\r\n\r\n    const yScale = d3.scaleLinear()\r\n      .domain(d3.extent(givenData.map((i) => i.value)))\r\n      .range([height - margin.bottom, margin.top]);\r\n\r\n    // let line = d3.line()\r\n    //   .x(i => xScale(i.date))\r\n    //   .y(i => yScale(i.value))\r\n    let scaledData = [];\r\n\r\n    givenData.forEach((i) => {\r\n      scaledData.push([xScale(i.date), yScale(i.value)])\r\n    });\r\n\r\n\r\n    console.log(scaledData);\r\n\r\n\r\n    let line = d3.line()\r\n\r\n    let fakeData = [\r\n      [1, 250],\r\n      [2, 300.35],\r\n      [3, 150.84],\r\n      [4, 500.92],\r\n      [5, 200.8],\r\n      [6, 150.47],\r\n      [7, 100.47],\r\n    ];\r\n\r\n    let graph = line(fakeData)\r\n\r\n    let html = [];\r\n    yScale.ticks().reverse().forEach((i) => {\r\n      html.push(<Text key={i} style={bloodSugarGraph.yLabel}>{i}</Text>)\r\n    });\r\n\r\n    // console.log(graph);\r\n    return [graph, html];\r\n  }\r\n\r\n  return (\r\n    <View style={bloodSugarGraph.container}>\r\n      <View style={bloodSugarGraph.content}>\r\n        <View style={bloodSugarGraph.unitContainer}>\r\n          <Text style={[bloodSugarGraph.unit,\r\n          {\r\n            transform: [{ rotate: '270deg' }]\r\n          }]}>\r\n            ppm</Text>\r\n        </View>\r\n        <View style={bloodSugarGraph.labelContainer}>\r\n          {makeLine(Data)[1]}\r\n        </View>\r\n        <Svg\r\n          width={width}\r\n          height={height}\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <Path\r\n            fill=\"none\"\r\n            stroke=\"#ff9933\"\r\n            strokeWidth={vw * .015}\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d={makeLine(Data)[0]}\r\n          />\r\n        </Svg>\r\n      </View>\r\n      <View style={bloodSugarGraph.xLabelContainer}>\r\n        <Text style={bloodSugarGraph.xLabel}>Acetone Levels</Text>\r\n      </View>\r\n    </View>\r\n\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}